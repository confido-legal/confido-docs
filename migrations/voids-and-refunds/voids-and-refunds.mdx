To continue increasing the range of financial entities we work with, we are updating the void and refund mutations currently offered in our GraphQL API.

- Sandbox: https://api.sandbox.gravity-legal.com/
- Production: https://api.gravity-legal.com/

This means we are deprecating the old refund and void mutations in favor of new ones.

### deprecating

- refundTransaction
- voidTransaction
- refundOrVoidTransaction

### replacements

- transactionVoidDetails
- transactionVoid
- transactionRefund

> The main difference is that we now support asynchronous responses to accommodate a larger range of financial institutions.

## Voids

Depending on the financial entities your customers are working with, voiding a transaction may result in voiding multiple transactions if those transactions were part of a single payment. We now offer a query, `transactionVoidDetails`, which returns which transaction will be voided when requesting a void for a transaction.

The replacement for `voidTransaction` is `transactionVoid`.

To support financial entities with asynchronous voids and refunds, we now also offer a flow for asynchronous refunds and voids. If you look at the response format in the API documentation, you'll see a status field which indicates the status for the void request. When you make a void request, we'll wait up to 30 seconds to hear back from the involved institutions, but if the request is still pending, we'll return a successful response in one of the pending statuses, typically AWAITING RESULT. If the request completes within 30 seconds, you'll receive back the original transactions that were voided as well as the new void transactions. If the request is still pending, those will not be returned. However, you will still receive webhooks when those transactions statuses are updated to void. Additionally, the `transaction` query has a new field `voidRequests` which shows the status and date for void request made against a transaction.

## Refunds

The replacement for `refundTransaction` is `transactionRefund`.

Like voids, refunds now support an asynchronous flow. Again we'll wait up to 30 seconds to hear back, but you may receive a response in a pending status. Like with voids, you'll still get a webhook when a transaction status changes to refunded, and transactions also have a `refundRequests` field which shows the date and status for related refund requests.
